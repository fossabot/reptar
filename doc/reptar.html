<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="reptar.calculators package" href="reptar.calculators.html" /><link rel="prev" title="reptar" href="modules.html" />

    <meta name="generator" content="sphinx-5.1.1, furo 2022.06.21"/>
        <title>reptar package - reptar documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">reptar  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">reptar  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../file.html">File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creator.html">Creator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parsers-extractors.html">Parsers and extractors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writers.html">Writers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sampling.html">Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculators.html">Calculators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../many-body-expansion.html">Many-body expansion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../descriptors.html">Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../definitions.html">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">reptar package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="reptar.calculators.html">reptar.calculators package</a></li>
<li class="toctree-l3"><a class="reference internal" href="reptar.definitions.html">reptar.definitions package</a></li>
<li class="toctree-l3"><a class="reference internal" href="reptar.extractors.html">reptar.extractors package</a></li>
<li class="toctree-l3"><a class="reference internal" href="reptar.parsers.html">reptar.parsers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="reptar.writers.html">reptar.writers package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="reptar-package">
<h1>reptar package<a class="headerlink" href="#reptar-package" title="Permalink to this heading">#</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">#</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="reptar.calculators.html">reptar.calculators package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reptar.calculators.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.calculators.html#reptar-calculators-drivers-module">reptar.calculators.drivers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.calculators.html#reptar-calculators-psi4-workers-module">reptar.calculators.psi4_workers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.calculators.html#reptar-calculators-xtb-workers-module">reptar.calculators.xtb_workers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.calculators.html#module-reptar.calculators">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reptar.definitions.html">reptar.definitions package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reptar.definitions.html#module-reptar.definitions">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reptar.extractors.html">reptar.extractors package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reptar.extractors.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.extractors.html#module-reptar.extractors.extractor">reptar.extractors.extractor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.extractors.html#module-reptar.extractors.orca_extractor">reptar.extractors.orca_extractor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.extractors.html#module-reptar.extractors.xtb_extractor">reptar.extractors.xtb_extractor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.extractors.html#module-reptar.extractors">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reptar.parsers.html">reptar.parsers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reptar.parsers.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.parsers.html#module-reptar.parsers.orca_parser">reptar.parsers.orca_parser module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.parsers.html#module-reptar.parsers.parser">reptar.parsers.parser module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.parsers.html#module-reptar.parsers.xtb_parser">reptar.parsers.xtb_parser module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.parsers.html#module-reptar.parsers">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reptar.writers.html">reptar.writers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reptar.writers.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.writers.html#module-reptar.writers.ase_db">reptar.writers.ase_db module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.writers.html#module-reptar.writers.pdb">reptar.writers.pdb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.writers.html#module-reptar.writers.schnetpack_db">reptar.writers.schnetpack_db module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.writers.html#module-reptar.writers.writing_utils">reptar.writers.writing_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.writers.html#module-reptar.writers.xyz">reptar.writers.xyz module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.writers.html#module-reptar.writers.xyz_gap">reptar.writers.xyz_gap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="reptar.writers.html#module-reptar.writers">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">#</a></h2>
</section>
<section id="module-reptar.creator">
<span id="reptar-creator-module"></span><h2>reptar.creator module<a class="headerlink" href="#module-reptar.creator" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="reptar.creator.creator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">reptar.creator.</span></span><span class="sig-name descname"><span class="pre">creator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.creator" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Create groups from computational chemistry data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rfile</strong> (<a class="reference internal" href="#reptar.File" title="reptar.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.File</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – An initialized reptar File.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.creator.definitions">
<span class="sig-name descname"><span class="pre">definitions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.definitions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.creator.definitions" title="Permalink to this definition">#</a></dt>
<dd><p>Add definitions of data to the file.</p>
<p>The base definitions are included by default. There should be no overlap
of any definitions. If there is, precedence is given in order of
<code class="docutils literal notranslate"><span class="pre">definitions</span></code> with base always being first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>definitions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>], default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Paths to data definition YAML files to congregate. Only the name
(not a path) is required for ones provided by reptar.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Reserved definition YAML files: <code class="docutils literal notranslate"><span class="pre">base</span></code>, <code class="docutils literal notranslate"><span class="pre">md</span></code>, <code class="docutils literal notranslate"><span class="pre">molprop</span></code>, <code class="docutils literal notranslate"><span class="pre">pes</span></code>,
<code class="docutils literal notranslate"><span class="pre">qc</span></code>, <code class="docutils literal notranslate"><span class="pre">sampl</span></code>, <code class="docutils literal notranslate"><span class="pre">solv</span></code>, <code class="docutils literal notranslate"><span class="pre">xtb</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.creator.from_calc">
<span class="sig-name descname"><span class="pre">from_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geom_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.from_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.creator.from_calc" title="Permalink to this definition">#</a></dt>
<dd><p>Create a group from a supported calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key to the desired new group (including parent).</p></li>
<li><p><strong>out_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to the main log file generated by the package.</p></li>
<li><p><strong>geom_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to a file containing a single geometry.</p></li>
<li><p><strong>traj_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to a trajectory file from a geometry optimization, MD
simulation, etc.</p></li>
<li><p><strong>extractors</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Additional extractors for the parser to use.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If both <code class="docutils literal notranslate"><span class="pre">geom_path</span></code> and <code class="docutils literal notranslate"><span class="pre">traj_path</span></code> are provided, it is assumed that
<code class="docutils literal notranslate"><span class="pre">geom_path</span></code> provides an initial geometry not included in
<code class="docutils literal notranslate"><span class="pre">traj_path</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.creator.ids">
<span class="sig-name descname"><span class="pre">ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_ids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.creator.ids" title="Permalink to this definition">#</a></dt>
<dd><p>Add <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> and <code class="docutils literal notranslate"><span class="pre">comp_ids</span></code> to a group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key to the group to add IDs to (including parent).</p></li>
<li><p><strong>entity_ids</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – A uniquely identifying integer specifying what atoms belong to which
entities. Entities can be a related set of atoms, molecules, or
functional group.</p></li>
<li><p><strong>comp_ids</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Relates <code class="docutils literal notranslate"><span class="pre">entity_id</span></code> to a fragment label for chemical components
or species. Labels could be <code class="docutils literal notranslate"><span class="pre">WAT</span></code> or <code class="docutils literal notranslate"><span class="pre">h2o</span></code> for water, <code class="docutils literal notranslate"><span class="pre">MeOH</span></code>
for methanol, <code class="docutils literal notranslate"><span class="pre">bz</span></code> for benzene, etc. There are no standardized
labels for species. The index of the label is the respective
<code class="docutils literal notranslate"><span class="pre">entity_id</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reptar file group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">obj</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.creator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.creator.load" title="Permalink to this definition">#</a></dt>
<dd><p>Load a reptar file for creating/adding information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to a file supported by reptar. If it does not exist, then one
will be created if possible.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">'r'</span></code>) – A file mode string that defines the read/write behavior.</p></li>
<li><p><strong>allow_remove</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Allow the removal of exdir groups in <code class="docutils literal notranslate"><span class="pre">w</span></code> operation.</p></li>
<li><p><strong>plugins</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – A list of instantiated exdir plugins.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.creator.parse_output">
<span class="sig-name descname"><span class="pre">parse_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geom_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.parse_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.creator.parse_output" title="Permalink to this definition">#</a></dt>
<dd><p>Parse output file using cclib and custom parser.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to computational chemistry output file.</p></li>
<li><p><strong>geom_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to a file containing a single geometry.</p></li>
<li><p><strong>traj_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to a trajectory file from a geometry optimization, MD
simulation, etc.</p></li>
<li><p><strong>extractors</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Additional extractors for the parser to use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="reptar.creator.creator.rfile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rfile</span></span><a class="headerlink" href="#reptar.creator.creator.rfile" title="Permalink to this definition">#</a></dt>
<dd><p>The reptar file to manage.</p>
<p><a class="reference internal" href="#reptar.File" title="reptar.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.File</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.creator.identify_parser">
<span class="sig-prename descclassname"><span class="pre">reptar.creator.</span></span><span class="sig-name descname"><span class="pre">identify_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#identify_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.identify_parser" title="Permalink to this definition">#</a></dt>
<dd><p>Identifies the correct parser depending on some trigger.
Only supported packaged should be included in <cite>triggers</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to output file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>One of the supported creator classes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#reptar.creator" title="reptar.creator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.creator</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-reptar.descriptors">
<span id="reptar-descriptors-module"></span><h2>reptar.descriptors module<a class="headerlink" href="#module-reptar.descriptors" title="Permalink to this heading">#</a></h2>
<p>Implementations of structural criteria.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reptar.descriptors.com_distance_sum">
<span class="sig-prename descclassname"><span class="pre">reptar.descriptors.</span></span><span class="sig-name descname"><span class="pre">com_distance_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/descriptors.html#com_distance_sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.descriptors.com_distance_sum" title="Permalink to this definition">#</a></dt>
<dd><p>The sum of pairwise distances from each entity’s center of mass to
the total structure center of mass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Z</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Atomic numbers of all atoms in the system.</p></li>
<li><p><strong>R</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>) – Cartesian coordinates.</p></li>
<li><p><strong>entity_ids</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – A uniquely identifying integer specifying what atoms belong to
which entities. Entities can be a related set of atoms, molecules,
or functional group. For example, a water and methanol molecule
could be <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>:obj:`numpy.ndarray`, ndim</strong> – Calculated distance metric.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.descriptors.criteria">
<span class="sig-prename descclassname"><span class="pre">reptar.descriptors.</span></span><span class="sig-name descname"><span class="pre">criteria</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">desc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc_args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/descriptors.html#criteria"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.descriptors.criteria" title="Permalink to this definition">#</a></dt>
<dd><p>Evaluates some descriptor criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>desc</strong> (<code class="docutils literal notranslate"><span class="pre">callable</span></code>) – A descriptor function.</p></li>
<li><p><strong>desc_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – All of the descriptor function arguments.</p></li>
<li><p><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>) – Descriptor cutoff.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>:obj:`numpy.ndarray`, ndim</strong> (<code class="docutils literal notranslate"><span class="pre">1</span></code>) – Descriptor values.</p></li>
<li><p><strong>:obj:`numpy.ndarray`, ndim</strong> (<code class="docutils literal notranslate"><span class="pre">1</span></code>) – If the descriptor value is less than or equal to the cutoff.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.descriptors.get_center_of_mass">
<span class="sig-prename descclassname"><span class="pre">reptar.descriptors.</span></span><span class="sig-name descname"><span class="pre">get_center_of_mass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/descriptors.html#get_center_of_mass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.descriptors.get_center_of_mass" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the center of mass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Z</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Atomic numbers of all atoms in the system.</p></li>
<li><p><strong>R</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>) – Cartesian coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The center of mass cartesian coordinates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.descriptors.max_atom_pair_dist">
<span class="sig-prename descclassname"><span class="pre">reptar.descriptors.</span></span><span class="sig-name descname"><span class="pre">max_atom_pair_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/descriptors.html#max_atom_pair_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.descriptors.max_atom_pair_dist" title="Permalink to this definition">#</a></dt>
<dd><p>The largest atomic pairwise distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Z</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Atomic numbers of all atoms in the system.</p></li>
<li><p><strong>R</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>) – Cartesian coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>:obj:`numpy.ndarray`, ndim</strong> – The largest pairwise distance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-reptar.fragment">
<span id="reptar-fragment-module"></span><h2>reptar.fragment module<a class="headerlink" href="#module-reptar.fragment" title="Permalink to this heading">#</a></h2>
<p>Groups atoms into fragments.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reptar.fragment.pairwise_distance">
<span class="sig-prename descclassname"><span class="pre">reptar.fragment.</span></span><span class="sig-name descname"><span class="pre">pairwise_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_frags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/fragment.html#pairwise_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.fragment.pairwise_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Group atoms together into fragments based on some cutoff distance.</p>
<p>This is not very dependable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code>) – Cartesian coordinates of all atoms in the system in Angstroms.</p></li>
<li><p><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">1.5</span></code>) – Atoms within this distance is group together in a fragment.</p></li>
<li><p><strong>num_frags</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Known number of fragments in structure.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-reptar.mb">
<span id="reptar-mb-module"></span><h2>reptar.mb module<a class="headerlink" href="#module-reptar.mb" title="Permalink to this heading">#</a></h2>
<p>Many-body utilities.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reptar.mb.gen_r_entity_combs">
<span class="sig-prename descclassname"><span class="pre">reptar.mb.</span></span><span class="sig-name descname"><span class="pre">gen_r_entity_combs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_prov_spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids_lower</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/mb.html#gen_r_entity_combs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.mb.gen_r_entity_combs" title="Permalink to this definition">#</a></dt>
<dd><p>Generate <code class="docutils literal notranslate"><span class="pre">entity_id</span></code> combinations of a specific size for a single
structure.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">r_prov_spec[2:]</span></code> provides the <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> of a reference
structure. For example, consider <code class="docutils literal notranslate"><span class="pre">r_prov_spec</span> <span class="pre">=</span> <span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">34,</span> <span class="pre">5,</span> <span class="pre">2]</span></code>.
This tells us that the structure contains three entities, and the
<code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> of each are <code class="docutils literal notranslate"><span class="pre">34</span></code>, <code class="docutils literal notranslate"><span class="pre">5</span></code>, and <code class="docutils literal notranslate"><span class="pre">2</span></code> in the structure
provenance.</p>
<p><code class="docutils literal notranslate"><span class="pre">gen_r_entity_combs</span></code> generates all combinations (without replacement)
based on the number of entities in <code class="docutils literal notranslate"><span class="pre">entity_ids_lower</span></code>.
If <code class="docutils literal notranslate"><span class="pre">entity_ids_lower</span></code> is <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code> (i.e., number of
lower-order entities is 2), then <code class="docutils literal notranslate"><span class="pre">gen_r_entity_combs</span></code> produces all 3
choose 2 combinations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r_prov_spec</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Structure provenance specifications of a single structure.</p></li>
<li><p><strong>entity_ids_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – A uniquely identifying integer specifying what atoms belong to
which entities for lower-order structures. Entities can be a related
set of atoms, molecules, or functional group. For example, a water and
methanol molecule could be <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> – Entity combinations of a single structure.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.mb.gen_r_idxs_worker">
<span class="sig-prename descclassname"><span class="pre">reptar.mb.</span></span><span class="sig-name descname"><span class="pre">gen_r_idxs_worker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_prov_specs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_ids_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_workers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/mb.html#gen_r_idxs_worker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.mb.gen_r_idxs_worker" title="Permalink to this definition">#</a></dt>
<dd><p>Generates the assigned structures for each worker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r_prov_specs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code>) – Structure provenance IDs. This specifies the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code>, structure
index from the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code> source, and <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> making up
the structure.</p></li>
<li><p><strong>r_prov_ids_lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> {<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>}) – Species an ID (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) to uniquely identifying labels for each
lower-order structure if it originated from another reptar file. Labels
should always be <code class="docutils literal notranslate"><span class="pre">md5_structures</span></code>. For example,
<code class="docutils literal notranslate"><span class="pre">{0:</span> <span class="pre">'6038e101da7fc0085978741832ebc7ad',</span> <span class="pre">1:</span> <span class="pre">'eeaf93dec698de3ecb55e9292bd9dfcb'}</span></code>.</p></li>
<li><p><strong>n_workers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of parallel workers. Can range from <code class="docutils literal notranslate"><span class="pre">1</span></code> to the umber of CPUs
available.</p></li>
</ul>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – Structure indices for the worker.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.mb.mb_contributions">
<span class="sig-prename descclassname"><span class="pre">reptar.mb.</span></span><span class="sig-name descname"><span class="pre">mb_contributions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Deriv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_specs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Deriv_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_ids_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_specs_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'remove'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/mb.html#mb_contributions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.mb.mb_contributions" title="Permalink to this definition">#</a></dt>
<dd><p>Adds or removes energy and derivative (i.e., gradients or forces)
contributions from a reference.</p>
<p>We use the term “lower” to refer to the lower-order (i.e., smaller) systems.
These are the energy and derivative contributions to remove or add to a
reference.</p>
<p>Making <span class="math notranslate nohighlight">\(n\)</span>-body predictions (i.e., <code class="docutils literal notranslate"><span class="pre">operation</span> <span class="pre">=</span> <span class="pre">'add'</span></code>) will often
not have <code class="docutils literal notranslate"><span class="pre">r_prov_ids</span></code> or <code class="docutils literal notranslate"><span class="pre">r_prov_specs``as</span> <span class="pre">all</span> <span class="pre">lower</span> <span class="pre">contributions</span> <span class="pre">are</span>
<span class="pre">derived</span> <span class="pre">exclusively</span> <span class="pre">from</span> <span class="pre">these</span> <span class="pre">structures.</span> <span class="pre">Use</span> <span class="pre">``None</span></code> for both of these
and this function will assume that all <code class="docutils literal notranslate"><span class="pre">_lower</span></code> properties apply.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Energies to add or remove contributions from (i.e., reference).</p></li>
<li><p><strong>Deriv</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>) – Potential energy surface derivatives (i.e., gradients or forces
depending on the sign) of reference structures.</p></li>
<li><p><strong>entity_ids</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – A uniquely identifying integer specifying what atoms belong to
which entities for reference structures. Entities can be a related
set of atoms, molecules, or functional group. For example, a water and
methanol molecule could be <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>.</p></li>
<li><p><strong>r_prov_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> {<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>} or <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Species an ID (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) to uniquely identifying labels for each
structure if it originated from another reptar file. Labels should
always be <code class="docutils literal notranslate"><span class="pre">md5_structures</span></code>. For example,
<code class="docutils literal notranslate"><span class="pre">{0:</span> <span class="pre">'6038e101da7fc0085978741832ebc7ad',</span> <span class="pre">1:</span> <span class="pre">'eeaf93dec698de3ecb55e9292bd9dfcb'}</span></code>.</p></li>
<li><p><strong>r_prov_specs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Structure provenance IDs. This specifies the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code>, structure
index from the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code> source, and <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> making up
the structure.</p></li>
<li><p><strong>E_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Lower-order energies.</p></li>
<li><p><strong>Deriv_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>) – Potential energy surface derivatives (i.e., gradients or forces
depending on the sign) of lower-order structures.</p></li>
<li><p><strong>entity_ids_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – A uniquely identifying integer specifying what atoms belong to
which entities for lower-order structures. Entities can be a related
set of atoms, molecules, or functional group. For example, a water and
methanol molecule could be <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>.</p></li>
<li><p><strong>r_prov_ids_lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> {<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>}) – Species an ID (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) to uniquely identifying labels for each
lower-order structure if it originated from another reptar file. Labels
should always be <code class="docutils literal notranslate"><span class="pre">md5_structures</span></code>. For example,
<code class="docutils literal notranslate"><span class="pre">{0:</span> <span class="pre">'6038e101da7fc0085978741832ebc7ad',</span> <span class="pre">1:</span> <span class="pre">'eeaf93dec698de3ecb55e9292bd9dfcb'}</span></code>.</p></li>
<li><p><strong>r_prov_specs_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code>) – Structure provenance IDs. This specifies the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code>, structure
index from the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code> source, and <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> making up
lower-order structures.</p></li>
<li><p><strong>operation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">'remove'</span></code>) – <code class="docutils literal notranslate"><span class="pre">'add'</span></code> or <code class="docutils literal notranslate"><span class="pre">'remove'</span></code> the contributions.</p></li>
<li><p><strong>n_workers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Number of workers. Can range from <code class="docutils literal notranslate"><span class="pre">1</span></code> to the total number of CPUs
available. If larger than <code class="docutils literal notranslate"><span class="pre">1</span></code>, ray tasks are spawned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – Energies with lower-order contributions added or removed.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – Derivatives with lower-order contributions added or removed.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.mb.mb_worker">
<span class="sig-prename descclassname"><span class="pre">reptar.mb.</span></span><span class="sig-name descname"><span class="pre">mb_worker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_specs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_idxs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Deriv_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids_lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_specs_lower</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/mb.html#mb_worker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.mb.mb_worker" title="Permalink to this definition">#</a></dt>
<dd><p>Work for computing many-body contributions.</p>
<p>This does not take into account if many-body contributions are being
<code class="docutils literal notranslate"><span class="pre">'added'</span></code> or <code class="docutils literal notranslate"><span class="pre">'removed'</span></code>. This just sums up all possible contributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r_shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Shape of a single structure. For example, <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">3)</span></code> where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the
number of atoms.</p></li>
<li><p><strong>entity_ids</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – A uniquely identifying integer specifying what atoms belong to
which entities for lower-order structures. Entities can be a related
set of atoms, molecules, or functional group. For example, a water and
methanol molecule could be <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>.</p></li>
<li><p><strong>r_prov_specs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code>) – Structure provenance IDs. This specifies the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code>, structure
index from the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code> source, and <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> making up
the structure.</p></li>
<li><p><strong>r_idxs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Structure indices of the original <code class="docutils literal notranslate"><span class="pre">E</span></code> and <code class="docutils literal notranslate"><span class="pre">Deriv</span></code> arrays for this
worker.</p></li>
<li><p><strong>E_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Energies of lower-order structures.</p></li>
<li><p><strong>Deriv_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>) – Potential energy surface derivatives (i.e., gradients or forces
depending on the sign) of lower-order structures.</p></li>
<li><p><strong>entity_ids_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – A uniquely identifying integer specifying what atoms belong to
which entities for lower-order structures. Entities can be a related
set of atoms, molecules, or functional group. For example, a water and
methanol molecule could be <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>.</p></li>
<li><p><strong>r_prov_specs_lower</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code>) – Structure provenance IDs. This specifies the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code>, structure
index from the <code class="docutils literal notranslate"><span class="pre">r_prov_id</span></code> source, and <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> making up
lower-order structures.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> – Structure indices of the original <code class="docutils literal notranslate"><span class="pre">E</span></code> and <code class="docutils literal notranslate"><span class="pre">Deriv</span></code> arrays for this
worker.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – Many-body energy contributions for the worker structure indices.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – Many-body derivative (i.e., gradients or forces depending on the sign)
contributions for the worker structure indices.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-reptar.reptar_file">
<span id="reptar-reptar-file-module"></span><h2>reptar.reptar_file module<a class="headerlink" href="#module-reptar.reptar_file" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="reptar.reptar_file.File">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">reptar.reptar_file.</span></span><span class="sig-name descname"><span class="pre">File</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Create, store, and access data from a variety of formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to a file supported by reptar. If it does not exist, then one will
be created if possible.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">'r'</span></code>) – A file mode string that defines the read/write behavior.</p></li>
<li><p><strong>allow_remove</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Allow the removal of exdir groups in <code class="docutils literal notranslate"><span class="pre">'w'</span></code> operation.</p></li>
<li><p><strong>plugins</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – A list of instantiated exdir plugins.</p></li>
<li><p><strong>from_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Load data from a dictionary.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.add" title="Permalink to this definition">#</a></dt>
<dd><p>Add data to file.</p>
<p>Note that there is some data postprocessing using
<a class="reference internal" href="#reptar.reptar_file.File.simplify_iter_data" title="reptar.reptar_file.File.simplify_iter_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simplify_iter_data()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data (including parent). Nested keys should be
separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
<li><p><strong>data</strong> (<code class="docutils literal notranslate"><span class="pre">obj</span></code>) – Data to add to file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.as_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Get a group as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Desired group.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The desired group as a dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.clean_key">
<span class="sig-name descname"><span class="pre">clean_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.clean_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.clean_key" title="Permalink to this definition">#</a></dt>
<dd><p>Clean key and remove any common mistakes.</p>
<p>Currently this only corrects instances of <code class="docutils literal notranslate"><span class="pre">//</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cleaned key.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_memmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.get" title="Permalink to this definition">#</a></dt>
<dd><p>Retrieve data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data. Nested keys should be separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
<li><p><strong>as_memmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Keep NumPy memmap (from exdir files) instead of converting to arrays.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfile</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/prod_1/charge&#39;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfile</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;energy_scf&#39;</span><span class="p">)</span>
<span class="go">-12419.360138637763</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.get_keys">
<span class="sig-name descname"><span class="pre">get_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.get_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.get_keys" title="Permalink to this definition">#</a></dt>
<dd><p>A list of keys in a group.</p>
<p>Does not include keys of nested groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key specifying which group to get the data keys from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of all available keys not leading to another group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.init_group">
<span class="sig-name descname"><span class="pre">init_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.init_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.init_group" title="Permalink to this definition">#</a></dt>
<dd><p>Initialize an exdir group with the specified key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data (including parent). Nested keys should be
separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_prettify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.save" title="Permalink to this definition">#</a></dt>
<dd><p>Saves non-exdir files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>json_prettify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Indents JSON objects if True. If false the JSON file is only one
line.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.simplify_iter_data">
<span class="sig-name descname"><span class="pre">simplify_iter_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.simplify_iter_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.simplify_iter_data" title="Permalink to this definition">#</a></dt>
<dd><p>Simplify iterative data if possible.</p>
<p>Attempts to simplify iterative objects by the type and/or number of
elements. For example, iterative data with only one element will return
just that element.</p>
<p>This is mainly used when adding data to a file. When parsing data we
will not know if there will be multiple values of certain data (e.g.,
multiple single point energies) until we finish parsing. Thus, we assume
there will be multiple values while parsing then simplify any iterative
objects at the end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>) – An iterative data object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Simplified data (if possible).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">obj</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.split_key">
<span class="sig-name descname"><span class="pre">split_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.split_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.split_key" title="Permalink to this definition">#</a></dt>
<dd><p>Split the key into a parent and data key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data. Nested keys should be separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> – Parent key.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> – Data key.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.reptar_file.File.update_md5">
<span class="sig-name descname"><span class="pre">update_md5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.update_md5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.reptar_file.File.update_md5" title="Permalink to this definition">#</a></dt>
<dd><p>Update all possible MD5 hashes of a specific group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Desired group.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-reptar.sampler">
<span id="reptar-sampler-module"></span><h2>reptar.sampler module<a class="headerlink" href="#module-reptar.sampler" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="reptar.sampler.add_structures_to_group">
<span class="sig-prename descclassname"><span class="pre">reptar.sampler.</span></span><span class="sig-name descname"><span class="pre">add_structures_to_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_structures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_updates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_EG</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('energy_ele',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grad_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('grads',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/sampler.html#add_structures_to_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.sampler.add_structures_to_group" title="Permalink to this definition">#</a></dt>
<dd><p>Adds randomly sampled structures to a group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_file</strong> (<a class="reference internal" href="#reptar.File" title="reptar.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.File</span></code></a>) – A loaded reptar File to sample structures from.</p></li>
<li><p><strong>source_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key to the desired source group. The group must contain
<code class="docutils literal notranslate"><span class="pre">atomic_numbers</span></code>, <code class="docutils literal notranslate"><span class="pre">geometry</span></code>, <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code>, and <code class="docutils literal notranslate"><span class="pre">comp_ids</span></code> keys.</p></li>
<li><p><strong>dest_file</strong> (<a class="reference internal" href="#reptar.File" title="reptar.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.File</span></code></a>) – A reptar File to add sampled structures to.</p></li>
<li><p><strong>dest_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key to the desired destination group. If it does not
exist then it will be created.</p></li>
<li><p><strong>quantity</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of structures to sample from the data. For example,
<code class="docutils literal notranslate"><span class="pre">'100'</span></code>, <code class="docutils literal notranslate"><span class="pre">452</span></code>, or <code class="docutils literal notranslate"><span class="pre">'all'</span></code>.</p></li>
<li><p><strong>comp_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – The <code class="docutils literal notranslate"><span class="pre">comp_id</span></code> labels to include in sampled structures. <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code>
with the same <code class="docutils literal notranslate"><span class="pre">comp_id</span></code> labels are sampled for each <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
element. Thus, the order of each label does matter.</p></li>
<li><p><strong>structure_idxs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Possible structure indices in the source to sample from.
<code class="docutils literal notranslate"><span class="pre">None</span></code> means we can sample from any structure.</p></li>
<li><p><strong>criteria</strong> (<code class="docutils literal notranslate"><span class="pre">callable</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Structure criteria during the sampling procedure. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then no
criteria will be used.</p></li>
<li><p><strong>z_slice</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Indices of the atoms to be used for the cutoff calculation.</p></li>
<li><p><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Distance cutoff between the atoms selected by <code class="docutils literal notranslate"><span class="pre">z_slice</span></code>. Must be
in the same units (e.g., Angstrom) as <code class="docutils literal notranslate"><span class="pre">R</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> if
no criteria is selected or a cutoff is not desired.</p></li>
<li><p><strong>center_structures</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Move the center of mass of each structure to the origin thereby
centering each structure (and losing the original coordinates of
the structure).</p></li>
<li><p><strong>sampling_updates</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Will print for every 100 successfully sampled structures.</p></li>
<li><p><strong>copy_EG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">True</span></code>) – Creates datasets for energies and gradients (using <code class="docutils literal notranslate"><span class="pre">energy_label</span></code> and
<code class="docutils literal notranslate"><span class="pre">grad_label</span></code>) and attempts to copy data from the source if possible.
If no compatible data is available it will just store <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.NaN" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.NaN</span></code></a>.</p></li>
<li><p><strong>energy_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>), ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">('energy_ele',)</span></code>) – Specifies all energy keys in the destination group to extend with the
new sampling. The array from each key will have <code class="docutils literal notranslate"><span class="pre">quantity</span></code> amount of
<code class="docutils literal notranslate"><span class="pre">np.NaN</span></code> values appended to it. The first value should be the desired
key from the source.</p></li>
<li><p><strong>grad_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>), default: <code class="docutils literal notranslate"><span class="pre">('grads',)</span></code>) – Specifies all gradient keys in the destination group to extend with the
new sampling. The array 1from each key will have <code class="docutils literal notranslate"><span class="pre">quantity</span></code> amount of
<code class="docutils literal notranslate"><span class="pre">np.NaN</span></code> values appended to it. The first value should be the desired
key from the source.</p></li>
<li><p><strong>write</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">True</span></code>) – Write newly sampled to <code class="docutils literal notranslate"><span class="pre">Group</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Nothing is saved until all checks are passed to avoid irreversible changes
to already existing <code class="docutils literal notranslate"><span class="pre">Group</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.sampler.sample_structures">
<span class="sig-prename descclassname"><span class="pre">reptar.sampler.</span></span><span class="sig-name descname"><span class="pre">sample_structures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_r_prov_specs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_specs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_structures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_updates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_EG</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_label_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'energy_ele'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grad_label_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grads'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/sampler.html#sample_structures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.sampler.sample_structures" title="Permalink to this definition">#</a></dt>
<dd><p>Randomly samples structures from a source.</p>
<p>If previous data are already provided (i.e., <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">R</span></code>, and
<code class="docutils literal notranslate"><span class="pre">r_prov_specs</span></code> are not <code class="docutils literal notranslate"><span class="pre">None</span></code>) then the sampled structures are appended
to these arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_file</strong> (<a class="reference internal" href="#reptar.File" title="reptar.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.File</span></code></a>) – A loaded reptar File to sample structures from.</p></li>
<li><p><strong>source_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key to the desired source group. The group must contain
<code class="docutils literal notranslate"><span class="pre">atomic_numbers</span></code>, <code class="docutils literal notranslate"><span class="pre">geometry</span></code>, <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code>, and <code class="docutils literal notranslate"><span class="pre">comp_ids</span></code> keys.</p></li>
<li><p><strong>quantity</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Number of structures to sample from the structure set. For example,
<code class="docutils literal notranslate"><span class="pre">'100'</span></code>, <code class="docutils literal notranslate"><span class="pre">'452'</span></code>, or even <code class="docutils literal notranslate"><span class="pre">'all'</span></code>.</p></li>
<li><p><strong>comp_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – The <code class="docutils literal notranslate"><span class="pre">comp_id</span></code> labels to include in sampled structures. <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code>
with the same <code class="docutils literal notranslate"><span class="pre">comp_id</span></code> labels are sampled for each <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
element. Thus, the order of each label does matter.</p></li>
<li><p><strong>r_prov_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> {<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>}) – Structure <code class="docutils literal notranslate"><span class="pre">prov_ids</span></code> including any originally defined IDs and new
ones being added from the source.</p></li>
<li><p><strong>source_r_prov_specs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Structure provenance specifications of source structures if it was
created by sampling from other sources. If the <code class="docutils literal notranslate"><span class="pre">source</span></code> is original,
this should be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>Z</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Atomic numbers of destination if they already exist.</p></li>
<li><p><strong>R</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Cartesian atomic coordinates of destination if they already exist.</p></li>
<li><p><strong>r_prov_specs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Structure prov specifications of destination.</p></li>
<li><p><strong>structure_idxs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Possible structure indices in the source to sample from.
<code class="docutils literal notranslate"><span class="pre">None</span></code> means we can sample from any structure.</p></li>
<li><p><strong>criteria</strong> (<code class="docutils literal notranslate"><span class="pre">callable</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Structure criteria during the sampling procedure. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then no
criteria will be used.</p></li>
<li><p><strong>z_slice</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Indices of the atoms to be used for the cutoff calculation. Defaults
to <code class="docutils literal notranslate"><span class="pre">[]</span></code> is no criteria is selected or if it is not required for
the selected criteria.</p></li>
<li><p><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Distance cutoff between the atoms selected by <code class="docutils literal notranslate"><span class="pre">z_slice</span></code>. Must be
in the same units (e.g., Angstrom) as <code class="docutils literal notranslate"><span class="pre">R</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> if
no criteria is selected or a cutoff is not desired.</p></li>
<li><p><strong>center_structures</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Move the center of mass of each structure to the origin thereby
centering each structure (and losing the original coordinates of
the structure).</p></li>
<li><p><strong>sampling_updates</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Will print for every 100 successfully sampled structures.</p></li>
<li><p><strong>copy_EG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">True</span></code>) – Creates datasets for energies and gradients (using <code class="docutils literal notranslate"><span class="pre">energy_label</span></code> and
<code class="docutils literal notranslate"><span class="pre">grad_label</span></code>) and attempts to copy data from the source if possible.
If no compatible data is available it will just store <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.NaN" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.NaN</span></code></a>.</p></li>
<li><p><strong>E</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Destination energies, if any, to append to.</p></li>
<li><p><strong>G</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Destination atomic gradients, if any, to append to.</p></li>
<li><p><strong>energy_label_source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">'energy_ele'</span></code>) – Specifies source dataset name containing energies to copy.
If <code class="docutils literal notranslate"><span class="pre">copy_EG</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> with no valid energy datasets then an empty
array is created.</p></li>
<li><p><strong>grad_label_source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">'grads'</span></code>) – Specifies source dataset name containing atomic gradients to copy.
If <code class="docutils literal notranslate"><span class="pre">copy_EG</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> with no valid gradient datasets then an empty
array is created.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – Atomic numbers of sampled structures.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – Coordinates of sampled structures appended to any original destination
structures.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or <code class="docutils literal notranslate"><span class="pre">None</span></code> – Energies of sampled structures appended to any original destination
structures. <code class="docutils literal notranslate"><span class="pre">None</span></code> if <code class="docutils literal notranslate"><span class="pre">copy_EG</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or <code class="docutils literal notranslate"><span class="pre">None</span></code> – Atomic gradients of sampled structures appended to any original
destination structures. <code class="docutils literal notranslate"><span class="pre">None</span></code> if <code class="docutils literal notranslate"><span class="pre">copy_EG</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> of the structures.</p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> – <code class="docutils literal notranslate"><span class="pre">r_prov_specs</span></code> of the structures.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The order of <code class="docutils literal notranslate"><span class="pre">atomic_numbers</span></code> must be the same for each entity.
For example, if a water molecule with label <code class="docutils literal notranslate"><span class="pre">'h2o'</span></code> has <code class="docutils literal notranslate"><span class="pre">atomic_numbers</span></code>
of <code class="docutils literal notranslate"><span class="pre">[8,</span> <span class="pre">1,</span> <span class="pre">1]</span></code> then every other entity must have the same.</p>
</dd></dl>

</section>
<section id="module-reptar.utils">
<span id="reptar-utils-module"></span><h2>reptar.utils module<a class="headerlink" href="#module-reptar.utils" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.atoms_by_element">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">atoms_by_element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atom_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#atoms_by_element"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.atoms_by_element" title="Permalink to this definition">#</a></dt>
<dd><p>Converts a list of atoms identified by their atomic number to their
elemental symbol in the same order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>atom_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>]) – Atomic numbers of atoms within a structure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Element symbols of atoms within a structure.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.atoms_by_number">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">atoms_by_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atom_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#atoms_by_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.atoms_by_number" title="Permalink to this definition">#</a></dt>
<dd><p>Converts a list of atoms identified by their elemental symbol to their
atomic number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>atom_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>]) – Element symbols of atoms within a structure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Atomic numbers of atoms within a structure.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.center_structures">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">center_structures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#center_structures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.center_structures" title="Permalink to this definition">#</a></dt>
<dd><p>Centers each structure’s center of mass to the origin.</p>
<p>Previously centered structures should not be affected by this technique.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Z</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Atomic numbers of the atoms in every structure.</p></li>
<li><p><strong>R</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">3</span></code>) – Cartesian atomic coordinates of data set structures.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Centered Cartesian atomic coordinates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.combine_dicts">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">combine_dicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#combine_dicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.combine_dicts" title="Permalink to this definition">#</a></dt>
<dd><p>Combine two dictionaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – </p></li>
<li><p><strong>dict2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.find_parent_r_idxs">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">find_parent_r_idxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_prov_specs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_prov_specs_subset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#find_parent_r_idxs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.find_parent_r_idxs" title="Permalink to this definition">#</a></dt>
<dd><p>Find the structure indices of a parent r_prov_specs using a subset of
the specifications.</p>
<p>Useful for identifying structure indices when <code class="docutils literal notranslate"><span class="pre">r_prov_specs_subset</span></code> is in
a different order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r_prov_specs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code>) – Structure provenance specifications.</p></li>
<li><p><strong>r_prov_specs_subset</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">2</span></code>) – Specifications in no particular order.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>:obj:`numpy.ndarray`, ndim</strong> – Structure indices of <code class="docutils literal notranslate"><span class="pre">r_prov_specs_subset</span></code> with respect to
<code class="docutils literal notranslate"><span class="pre">r_prov_specs</span></code>. Specifications that cannot be found will have
<code class="docutils literal notranslate"><span class="pre">NaN</span></code> as their element.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r_prov_specs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r_prov_specs_subset</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_parent_r_idxs</span><span class="p">(</span><span class="n">r_prov_specs</span><span class="p">,</span> <span class="n">r_prov_specs_subset</span><span class="p">)</span>
<span class="go">[0, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.gen_comp_ids">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">gen_comp_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_mol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#gen_comp_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.gen_comp_ids" title="Permalink to this definition">#</a></dt>
<dd><p>Prepares the list of component ids for a system with only one species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Species label.</p></li>
<li><p><strong>num_mol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of molecules of this type in the system.</p></li>
<li><p><strong>entity_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Entity ids for these species.</p></li>
<li><p><strong>add_to</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Component ids to append new ids to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Component ids for a structure.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.gen_entity_ids">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">gen_entity_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms_per_mol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_mol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starting_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#gen_entity_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.gen_entity_ids" title="Permalink to this definition">#</a></dt>
<dd><p>Generates entity ids for a single species.</p>
<p>Note that all of the atoms in each molecule must occur in the same order and
be grouped together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms_per_mol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of atoms in the molecule.</p></li>
<li><p><strong>num_mol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of molecules of this type in the system.</p></li>
<li><p><strong>starting_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Number to start entity_id labels.</p></li>
<li><p><strong>add_to</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Entity ids to append new ids to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Entity ids for a structure.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.get_files">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">get_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#get_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.get_files" title="Permalink to this definition">#</a></dt>
<dd><p>Returns paths to all files in a given directory that matches a provided
expression in the file name.</p>
<p>Commonly used to find all files of a certain type, e.g., output or xyz
files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Specifies the directory to search.</p></li>
<li><p><strong>expression</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Expression to be tested against all file names in <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">True</span></code>) – Recursively find all files in all subdirectories.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All absolute paths to files matching the provided expression.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.get_md5">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">get_md5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_arrays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_structures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#get_md5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.get_md5" title="Permalink to this definition">#</a></dt>
<dd><p>Creates MD5 hash for a group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rfile</strong> (<a class="reference internal" href="#reptar.File" title="reptar.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.File</span></code></a>) – A reptar file.</p></li>
<li><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key to the desired group.</p></li>
<li><p><strong>only_arrays</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Generate the MD5 hash using only arrays. This creates a data-centered
MD5 that is not affected by data that are commonly added or
changed. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>only_structures</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Generate the MD5 has with only <code class="docutils literal notranslate"><span class="pre">atomic_numbers</span></code> and <code class="docutils literal notranslate"><span class="pre">geometry</span></code>
if possible). This is more static than <code class="docutils literal notranslate"><span class="pre">only_arrays</span></code> and should be
used to track sampling (i.e., <code class="docutils literal notranslate"><span class="pre">r_prov_ids</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MD5 hash of a group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reptar.utils.parse_stringfile">
<span class="sig-prename descclassname"><span class="pre">reptar.utils.</span></span><span class="sig-name descname"><span class="pre">parse_stringfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stringfile_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/utils.html#parse_stringfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.utils.parse_stringfile" title="Permalink to this definition">#</a></dt>
<dd><p>Parses data from string file.</p>
<p>A string file is data presented as consecutive xyz data. The data could be
three Cartesian coordinates for each atom, three atomic force vector
components, or both coordinates and atomic forces in one line (referred to
as extended xyz).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stringfile_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to string file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parsed atoms (as element symbols <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>), comments, and data as
<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a> from string file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-reptar">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-reptar" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="reptar.File">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">reptar.</span></span><span class="sig-name descname"><span class="pre">File</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Create, store, and access data from a variety of formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to a file supported by reptar. If it does not exist, then one will
be created if possible.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">'r'</span></code>) – A file mode string that defines the read/write behavior.</p></li>
<li><p><strong>allow_remove</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Allow the removal of exdir groups in <code class="docutils literal notranslate"><span class="pre">'w'</span></code> operation.</p></li>
<li><p><strong>plugins</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – A list of instantiated exdir plugins.</p></li>
<li><p><strong>from_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Load data from a dictionary.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.add" title="Permalink to this definition">#</a></dt>
<dd><p>Add data to file.</p>
<p>Note that there is some data postprocessing using
<a class="reference internal" href="#reptar.reptar_file.File.simplify_iter_data" title="reptar.reptar_file.File.simplify_iter_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simplify_iter_data()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data (including parent). Nested keys should be
separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
<li><p><strong>data</strong> (<code class="docutils literal notranslate"><span class="pre">obj</span></code>) – Data to add to file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.as_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Get a group as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Desired group.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The desired group as a dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.clean_key">
<span class="sig-name descname"><span class="pre">clean_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.clean_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.clean_key" title="Permalink to this definition">#</a></dt>
<dd><p>Clean key and remove any common mistakes.</p>
<p>Currently this only corrects instances of <code class="docutils literal notranslate"><span class="pre">//</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cleaned key.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_memmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.get" title="Permalink to this definition">#</a></dt>
<dd><p>Retrieve data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data. Nested keys should be separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
<li><p><strong>as_memmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Keep NumPy memmap (from exdir files) instead of converting to arrays.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfile</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/prod_1/charge&#39;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfile</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;energy_scf&#39;</span><span class="p">)</span>
<span class="go">-12419.360138637763</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.get_keys">
<span class="sig-name descname"><span class="pre">get_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.get_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.get_keys" title="Permalink to this definition">#</a></dt>
<dd><p>A list of keys in a group.</p>
<p>Does not include keys of nested groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key specifying which group to get the data keys from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of all available keys not leading to another group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.init_group">
<span class="sig-name descname"><span class="pre">init_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.init_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.init_group" title="Permalink to this definition">#</a></dt>
<dd><p>Initialize an exdir group with the specified key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data (including parent). Nested keys should be
separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_prettify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.save" title="Permalink to this definition">#</a></dt>
<dd><p>Saves non-exdir files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>json_prettify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Indents JSON objects if True. If false the JSON file is only one
line.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.simplify_iter_data">
<span class="sig-name descname"><span class="pre">simplify_iter_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.simplify_iter_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.simplify_iter_data" title="Permalink to this definition">#</a></dt>
<dd><p>Simplify iterative data if possible.</p>
<p>Attempts to simplify iterative objects by the type and/or number of
elements. For example, iterative data with only one element will return
just that element.</p>
<p>This is mainly used when adding data to a file. When parsing data we
will not know if there will be multiple values of certain data (e.g.,
multiple single point energies) until we finish parsing. Thus, we assume
there will be multiple values while parsing then simplify any iterative
objects at the end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>) – An iterative data object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Simplified data (if possible).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">obj</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.split_key">
<span class="sig-name descname"><span class="pre">split_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.split_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.split_key" title="Permalink to this definition">#</a></dt>
<dd><p>Split the key into a parent and data key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the desired data. Nested keys should be separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> – Parent key.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> – Data key.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.File.update_md5">
<span class="sig-name descname"><span class="pre">update_md5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/reptar_file.html#File.update_md5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.File.update_md5" title="Permalink to this definition">#</a></dt>
<dd><p>Update all possible MD5 hashes of a specific group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Desired group.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="reptar.creator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">reptar.</span></span><span class="sig-name descname"><span class="pre">creator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Create groups from computational chemistry data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rfile</strong> (<a class="reference internal" href="#reptar.File" title="reptar.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.File</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – An initialized reptar File.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.definitions">
<span class="sig-name descname"><span class="pre">definitions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.definitions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.definitions" title="Permalink to this definition">#</a></dt>
<dd><p>Add definitions of data to the file.</p>
<p>The base definitions are included by default. There should be no overlap
of any definitions. If there is, precedence is given in order of
<code class="docutils literal notranslate"><span class="pre">definitions</span></code> with base always being first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>definitions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>], default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Paths to data definition YAML files to congregate. Only the name
(not a path) is required for ones provided by reptar.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Reserved definition YAML files: <code class="docutils literal notranslate"><span class="pre">base</span></code>, <code class="docutils literal notranslate"><span class="pre">md</span></code>, <code class="docutils literal notranslate"><span class="pre">molprop</span></code>, <code class="docutils literal notranslate"><span class="pre">pes</span></code>,
<code class="docutils literal notranslate"><span class="pre">qc</span></code>, <code class="docutils literal notranslate"><span class="pre">sampl</span></code>, <code class="docutils literal notranslate"><span class="pre">solv</span></code>, <code class="docutils literal notranslate"><span class="pre">xtb</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.from_calc">
<span class="sig-name descname"><span class="pre">from_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geom_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.from_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.from_calc" title="Permalink to this definition">#</a></dt>
<dd><p>Create a group from a supported calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key to the desired new group (including parent).</p></li>
<li><p><strong>out_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to the main log file generated by the package.</p></li>
<li><p><strong>geom_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to a file containing a single geometry.</p></li>
<li><p><strong>traj_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to a trajectory file from a geometry optimization, MD
simulation, etc.</p></li>
<li><p><strong>extractors</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Additional extractors for the parser to use.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If both <code class="docutils literal notranslate"><span class="pre">geom_path</span></code> and <code class="docutils literal notranslate"><span class="pre">traj_path</span></code> are provided, it is assumed that
<code class="docutils literal notranslate"><span class="pre">geom_path</span></code> provides an initial geometry not included in
<code class="docutils literal notranslate"><span class="pre">traj_path</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.ids">
<span class="sig-name descname"><span class="pre">ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_ids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.ids" title="Permalink to this definition">#</a></dt>
<dd><p>Add <code class="docutils literal notranslate"><span class="pre">entity_ids</span></code> and <code class="docutils literal notranslate"><span class="pre">comp_ids</span></code> to a group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key to the group to add IDs to (including parent).</p></li>
<li><p><strong>entity_ids</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – A uniquely identifying integer specifying what atoms belong to which
entities. Entities can be a related set of atoms, molecules, or
functional group.</p></li>
<li><p><strong>comp_ids</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, ndim: <code class="docutils literal notranslate"><span class="pre">1</span></code>) – Relates <code class="docutils literal notranslate"><span class="pre">entity_id</span></code> to a fragment label for chemical components
or species. Labels could be <code class="docutils literal notranslate"><span class="pre">WAT</span></code> or <code class="docutils literal notranslate"><span class="pre">h2o</span></code> for water, <code class="docutils literal notranslate"><span class="pre">MeOH</span></code>
for methanol, <code class="docutils literal notranslate"><span class="pre">bz</span></code> for benzene, etc. There are no standardized
labels for species. The index of the label is the respective
<code class="docutils literal notranslate"><span class="pre">entity_id</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reptar file group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">obj</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.load" title="Permalink to this definition">#</a></dt>
<dd><p>Load a reptar file for creating/adding information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to a file supported by reptar. If it does not exist, then one
will be created if possible.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">'r'</span></code>) – A file mode string that defines the read/write behavior.</p></li>
<li><p><strong>allow_remove</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – Allow the removal of exdir groups in <code class="docutils literal notranslate"><span class="pre">w</span></code> operation.</p></li>
<li><p><strong>plugins</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – A list of instantiated exdir plugins.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="reptar.creator.parse_output">
<span class="sig-name descname"><span class="pre">parse_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geom_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/reptar/creator.html#creator.parse_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#reptar.creator.parse_output" title="Permalink to this definition">#</a></dt>
<dd><p>Parse output file using cclib and custom parser.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to computational chemistry output file.</p></li>
<li><p><strong>geom_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to a file containing a single geometry.</p></li>
<li><p><strong>traj_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Path to a trajectory file from a geometry optimization, MD
simulation, etc.</p></li>
<li><p><strong>extractors</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Additional extractors for the parser to use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="reptar.creator.rfile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rfile</span></span><a class="headerlink" href="#reptar.creator.rfile" title="Permalink to this definition">#</a></dt>
<dd><p>The reptar file to manage.</p>
<p><a class="reference internal" href="#reptar.File" title="reptar.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reptar.File</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="reptar.calculators.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">reptar.calculators package</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="modules.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">reptar</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Alex M. Maldonado
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">reptar package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-reptar.creator">reptar.creator module</a></li>
<li><a class="reference internal" href="#module-reptar.descriptors">reptar.descriptors module</a></li>
<li><a class="reference internal" href="#module-reptar.fragment">reptar.fragment module</a></li>
<li><a class="reference internal" href="#module-reptar.mb">reptar.mb module</a></li>
<li><a class="reference internal" href="#module-reptar.reptar_file">reptar.reptar_file module</a></li>
<li><a class="reference internal" href="#module-reptar.sampler">reptar.sampler module</a></li>
<li><a class="reference internal" href="#module-reptar.utils">reptar.utils module</a></li>
<li><a class="reference internal" href="#module-reptar">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>